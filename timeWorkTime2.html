<!--
    THIS EXAMPLE WAS DOWNLOADED FROM https://echarts.apache.org/examples/en/editor.html?c=graph
-->



<!DOCTYPE html>
<html style="height: 100%">
  <head>
    <meta charset="utf-8" />
  </head>
  <body style="height: 100%; margin: 0">
    <div id="container" style="height: 100%"></div>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"
    ></script>

    <script type="text/javascript">

fetch("time1.json")
        .then((response) => response.json())
        .then((data) => setChart(data));

        
 var globalData;       
function setChart(dataJson)
{ 


        
        var chartDom = document.getElementById('container');
        var myChart = echarts.init(chartDom);
        var option;

        // let base = +new Date(1988, 9, 3);
        // let oneDay = 24 * 3600 * 1000;
        // let data = [[base, Math.random() * 300]];



        var list=[]
      

        for(var i in dataJson)
        {
            var newDate = new Date(i);
            let x = newDate.toISOString;
             list.push([i, dataJson [i]]);


        }


        //console.log(list);






        // for (let i = 1; i < 200; i++) {
        //   let now = new Date((base += (oneDay)));
        //   data.push([+now, Math.round((Math.random() - 0.5) * 20 + data[i - 1][1])]);
        // }
        option = {
        tooltip: {
            trigger: 'axis',
            position: function (pt) {
            return [pt[0], '10%'];
            }
        },
        title: {
            left: 'center',
            text: 'Commit Chart'
        },
        toolbox: {
            feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            restore: {},
            saveAsImage: {}
            }
        },
        xAxis: {
            type: 'time',
            boundaryGap: false
        },
        yAxis: {
            type: 'value',
            boundaryGap: [0, '100%']
        },
        dataZoom: [
            {
            type: 'inside',
            start: 0,
            end: 20
            },
            {
            start: 0,
            end: 20
            }
        ],
        series: [
            {
            name: 'Commits',
            type: 'bar',
            smooth: true,
            symbol: 'none',
            areaStyle: {},
            data: list
            // [
            //     [base, 22],
            //     [(base += oneDay), 10],
            //     [(base += oneDay * 10), 10]
            // ]
            }
        ]
        };

        option && myChart.setOption(option);



}
    </script>

  </body>


<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>


  <body style="height: 100%; margin: 0">
    <div id="container2" style="height: 100%"></div>

    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/echarts@5/dist/echarts.min.js"
    ></script>

    <script type="text/javascript">
      var dom = document.getElementById("container2");
      var myChart = echarts.init(dom);
      var app = {};
      var option;

      myChart.showLoading();

      fetch("sample4.json")
        .then((response) => response.json())
        .then((data) => loadChart(data));

        
      function loadChart(graph) {
        myChart.hideLoading();
        
        graph.nodes.forEach(function (node) {
          node.label = {
            //show: node.symbolSize > 30,
          };
        });
        option = {
          title: {
            text: "PlaceHolder",
            subtext: "Default layout",
            top: "bottom",
            left: "right",
          },
          tooltip: {},
          legend: [
            {
               //selectedMode: 'single',
              data: graph.categories.map(function (a) {
                return a.name;
              }),
            },
          ],
          animationDuration: 1500,
          animationEasingUpdate: "quinticInOut",
          series: [
            {
              name: "",
              type: "graph",

              layout: "force",
              force: {
                // initLayout: "circular",
                repulsion: 2000,
                layoutAnimation: false,
                edgeLength: 30
              },
              data: graph.nodes,
              links: graph.links,
              categories: graph.categories,

              roam: true,
              label: {
                show:true,
                position: "right",
                formatter: "{b}",
              },
              lineStyle: {
                color: "source",
                curveness: 0.2,
              },
              emphasis: {
                focus: "adjacency",
                lineStyle: 
                {
                  width: 10,
                },
              },
            },
          ],
        };

        myChart.setOption(option);
      }

      if (option && typeof option === "object") {
        myChart.setOption(option);
      }
    </script>
  </body>









</html>
